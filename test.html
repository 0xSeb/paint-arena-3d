<!DOCTYPE html>
<html lang="en">
<head>
    <title>three.js webgl - geometry - cube</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link type="text/css" rel="stylesheet" href="main.css">
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
<script type="text/javascript" src="./libs/OrbitControl.js"></script>


<script type="module">


    var camera, scene, renderer, controls, myAxis, axisZ;
    var mesh;

    init();
    animate();

    function init() {

        camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
        camera.position.z = 400;

        scene = new THREE.Scene();


        var geometry = new THREE.BoxBufferGeometry( 200, 200, 200 );
        var material = new THREE.MeshBasicMaterial( );

        mesh = new THREE.Mesh( geometry, material );
        var axes = new THREE.AxesHelper(250);
        mesh.add(axes);
        scene.add( mesh );

        renderer = new THREE.WebGLRenderer( { antialias: true } );
        renderer.setPixelRatio( window.devicePixelRatio );
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

        //

        // Création du contrôleur
        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.minDistance = 200;
        controls.maxDistance = 1000;
        window.addEventListener( 'resize', onWindowResize, false );
        axisZ = new THREE.Vector3(0, 0, 1);
        myAxis = new THREE.Vector3(1, 0, 0);
        mesh.rotateOnWorldAxis(axisZ, THREE.Math.degToRad(90));
        camera.position.x = -400;
        camera.position.y = 500;
        camera.lookAt(mesh.position);

    }

    function onWindowResize() {

        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        renderer.setSize( window.innerWidth, window.innerHeight );

    }


    function animate() {
        controls.update();
        mesh.rotateOnWorldAxis(myAxis, THREE.Math.degToRad(1));
        requestAnimationFrame( animate );


       /* mesh.rotation.x += 0.005;
        mesh.rotation.y += 0.01;*/

        renderer.render( scene, camera );

    }

</script>

</body>
</html>
